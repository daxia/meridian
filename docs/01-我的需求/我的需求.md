---
doc_type: requirement
doc_id: 我的需求
status: active
owner: user
created: 2026-02-14
updated: 2026-02-14
---
# 我的需求

本文档为需求方（用户）填写的**原始需求**唯一集合。每条需求带**状态**，用于驱动是否写 PRD、是否实现。审核与疑问在 02-PRD 中完成，不在此文档填写。

## 状态说明

| 状态     | 含义                 | 使用方式                                          |
| -------- | -------------------- | ------------------------------------------------- |
| 待实现   | 已写入，待排期       | 可为此条撰写 PRD；写 PRD 后可将本条改为「进行中」 |
| 进行中   | 已进入 PRD/设计/实现 | 对应 PRD 或设计已存在；实现完成后改为「已完成」   |
| 已完成   | 已验收上线           | 仅记录，不再排期                                  |
| 废弃     | 不再做               | 不写 PRD、不实现                                  |
| 未来实现 | 暂不排期             | 需要时改为「待实现」再排期                        |

## 条目约定

- 每条需求一节：`## 需求N. 需求标题（可选日期）`
- 必须标注**编号**（YYYYMMDD001 格式，唯一识别码）、**状态**与可选**关联 PRD**、可选**关联 DD**
- 内容：需求描述、目标、范围等**原始表述**；审核与疑问在 02-PRD 中完成。
- 需写 PRD 时，请明确说「为第 N 条需求写 PRD」或「为【需求标题】写 PRD」。

---

## 需求1. Admin Panel 数据显示修复 (2026-02-14)

**编号**：20260214001
**状态**：进行中
**关联 PRD**：PRD-WEB-API-Admin页面数据修复-20260214
**关联 DD**：DD-WEB-API-Admin页面数据修复-20260214

### 1.1 用户原始需求内容
Admin Panel 的 "Source Analytics" 列表中存在多处数据显示异常（参考截图 `1771031206303.png`）：
1.  **日期显示错误**: "LAST CHECKED" 列显示为 `NaN-NaN-NaN NaN:NaN:NaN`。
2.  **数据计算错误**: "ERROR RATE" 和 "SUCCESS RATE" 列显示为 `N/A%`。
3.  **源名称丢失**: 部分 Source 名称显示为 `Unknown`。
4.  **平均值错误**: "AVG/DAY" 显示为 `N/A`。

**预期**:
1.  日期应正确格式化，若无日期则显示 "Never" 或 "-"。
2.  百分比在无数据时应显示 "0%" 或 "-"。
3.  Source 名称应正确从后端获取并显示。

### 1.2 Agent 整理后需求内容
- **范围**: 前端 Admin 页面 (`apps/frontend`) 及后端统计接口 (`apps/backend`)。
- **关键点**:
    - 前端日期格式化逻辑需处理 `null`/`undefined`。
    - 前端百分比计算需处理除以零的情况。
    - 后端需确保返回 Source Name，前端需确保正确绑定。

---

## 需求2. 日志文件 ANSI 颜色代码清理 (2026-02-14)

**编号**：20260214002
**状态**：已完成
**关联 PRD**：PRD-SYS-日志功能需求
**关联 DD**：DD-SYS-日志功能需求

### 2.1 用户原始需求内容
`logs/frontend.log` (以及其他服务日志) 包含大量 ANSI 颜色代码（如 `[90m`, `[32m`），导致在文本编辑器中查看困难。需要将这些代码从日志文件中移除，但保留在终端输出中。

### 2.2 Agent 整理后需求内容
- **范围**: 系统基础设施 (`start_all.js`)。
- **关键点**:
    - 在写入日志文件前剥离 ANSI 转义序列。
    - 保持控制台输出的颜色高亮。
    - 适用于所有通过 `start_all.js` 启动的服务（Frontend, Backend, ML）。

---
